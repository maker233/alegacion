<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="theme-color" content="#0056b3">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <title>Alegaci√≥n Especialidad Gen√©tica de Laboratorio</title>
    <style>
        /* Variables CSS para mejor mantenibilidad */
        :root {
            --primary-color: #0056b3;
            --primary-hover: #004494;
            --secondary-color: #6c757d;
            --success-color: #28a745;
            --success-hover: #218838;
            --danger-color: #dc3545;
            --danger-hover: #c82333;
            --gmail-color: #dd4b39;
            --gmail-hover: #c23321;
            --outlook-color: #0078d4;
            --outlook-hover: #106ebe;
            --background-color: #f8f9fa;
            --card-background: #ffffff;
            --text-color: #333333;
            --border-color: #dee2e6;
            --input-border: #ced4da;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --border-radius: 8px;
            --transition: all 0.3s ease;
        }

        /* Reset y base */
        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: var(--background-color);
            color: var(--text-color);
            /* Mejoras para m√≥viles */
            -webkit-text-size-adjust: 100%;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
            overflow-x: hidden;
        }

        /* Contenedor principal */
        .container {
            max-width: 900px;
            margin: 0 auto;
            background-color: var(--card-background);
            padding: 40px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            /* Mejoras para m√≥viles */
            position: relative;
            overflow-x: hidden;
        }

        /* Tipograf√≠a */
        h1 {
            color: var(--primary-color);
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5rem;
            font-weight: 300;
            /* Prevenir selecci√≥n accidental */
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        h2 {
            color: var(--primary-color);
            margin-bottom: 25px;
            font-size: 1.8rem;
            font-weight: 400;
            /* Prevenir selecci√≥n accidental */
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        /* Indicador de progreso */
        .progress-indicator {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            gap: 10px;
            /* Prevenir selecci√≥n accidental */
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        .progress-step {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--border-color);
            color: var(--secondary-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            transition: var(--transition);
            position: relative;
            /* Mejoras t√°ctiles */
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
        }

        .progress-step.active {
            background-color: var(--primary-color);
            color: white;
        }

        .progress-step.completed {
            background-color: var(--success-color);
            color: white;
        }

        .progress-step:not(:last-child)::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 100%;
            width: 30px;
            height: 2px;
            background-color: var(--border-color);
            transform: translateY(-50%);
        }

        .progress-step.completed:not(:last-child)::after {
            background-color: var(--success-color);
        }

        /* Formulario */
        .form-group {
            margin-bottom: 25px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text-color);
        }

        input[type="text"],
        input[type="email"],
        input[type="date"],
        input[type="tel"] {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid var(--input-border);
            border-radius: var(--border-radius);
            font-size: 16px;
            transition: var(--transition);
            background-color: #fff;
            /* Mejoras m√≥viles */
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            outline: none;
            -webkit-tap-highlight-color: transparent;
        }

        input[type="text"]:focus,
        input[type="email"]:focus,
        input[type="date"]:focus,
        input[type="tel"]:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(0, 86, 179, 0.1);
        }

        /* Botones */
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: var(--transition);
            text-decoration: none;
            display: inline-block;
            text-align: center;
            /* Mejoras t√°ctiles */
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            min-height: 44px; /* Tama√±o m√≠nimo para t√°ctil */
            outline: none;
        }

        .btn:focus {
            box-shadow: 0 0 0 3px rgba(0, 86, 179, 0.3);
        }

        .btn:active {
            transform: scale(0.98);
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--primary-hover);
            transform: translateY(-2px);
        }

        .btn-secondary {
            background-color: var(--secondary-color);
            color: white;
        }

        .btn-secondary:hover {
            background-color: #5a6268;
        }

        .btn-gmail {
            background-color: var(--gmail-color);
            color: white;
            margin-right: 15px;
        }

        .btn-gmail:hover {
            background-color: var(--gmail-hover);
            transform: translateY(-2px);
        }

        .btn-outlook {
            background-color: var(--outlook-color);
            color: white;
        }

        .btn-outlook:hover {
            background-color: var(--outlook-hover);
            transform: translateY(-2px);
        }

        /* √Årea de contenido */
        .content-area {
            border: 2px solid var(--border-color);
            padding: 25px;
            min-height: 300px;
            background-color: #f8f9fa;
            margin-top: 20px;
            white-space: pre-wrap;
            word-wrap: break-word;
            border-radius: var(--border-radius);
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.5;
            /* Mejoras para m√≥viles */
            -webkit-overflow-scrolling: touch;
            overflow-y: auto;
            max-height: 70vh;
        }

        /* Estilos para el documento generado */
        .document-content {
            font-family: 'Times New Roman', serif;
            font-size: 14px;
            line-height: 1.6;
            color: #000;
            background-color: #fff;
            padding: 20px;
            border-radius: 6px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .document-content p {
            margin: 0 0 6px 0;
            text-align: justify;
        }

        .document-content ul {
            margin: 6px 0;
            padding-left: 20px;
            list-style-type: none;
        }

        .document-content li {
            margin: 2px 0;
            padding-left: 0;
        }

        .document-content strong {
            font-weight: bold;
            color: #000;
        }

        .document-content .form-data {
            color: #0066cc;
            font-weight: 600;
            background-color: rgba(0, 102, 204, 0.1);
            padding: 2px 4px;
            border-radius: 3px;
        }

        /* T√≠tulos principales del documento */
        .document-content p:first-child {
            text-align: center;
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 12px;
            text-transform: uppercase;
        }

        /* Espaciado especial para secciones importantes */
        .document-content .section-title {
            margin-top: 12px;
            margin-bottom: 6px;
        }

        /* Espaciado para listas de vi√±etas */
        .document-content .bullet-list {
            margin: 6px 0;
            padding-left: 20px;
        }

        .document-content .bullet-list li {
            margin: 3px 0;
            list-style-type: disc;
        }

        /* Mejoras para m√≥viles en el documento */
        @media (max-width: 768px) {
            .document-content {
                font-size: 13px;
                padding: 15px;
                line-height: 1.5;
            }

            .document-content p:first-child {
                font-size: 15px;
            }
        }

        @media (max-width: 480px) {
            .document-content {
                font-size: 12px;
                padding: 12px;
                line-height: 1.4;
            }

            .document-content p:first-child {
                font-size: 14px;
            }

            .document-content .form-data {
                font-size: 12px;
                padding: 1px 3px;
            }
        }

        /* Pasos */
        .step {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }

        .step.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Navegaci√≥n */
        .step-navigation {
            margin-top: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            /* Prevenir selecci√≥n accidental */
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        .email-actions {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 30px;
            /* Prevenir selecci√≥n accidental */
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        /* Indicador de carga para navegaci√≥n */
        .loading-indicator {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 1000;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 20px;
            border-radius: 8px;
            font-size: 16px;
        }

        .loading-indicator.show {
            display: block;
        }

        /* Responsive */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            .container {
                padding: 20px 15px;
                margin: 0;
                border-radius: 0;
                min-height: 100vh;
                box-shadow: none;
            }

            h1 {
                font-size: 1.8rem;
                margin-bottom: 20px;
            }

            h2 {
                font-size: 1.4rem;
                margin-bottom: 20px;
            }

            .progress-indicator {
                gap: 8px;
                margin-bottom: 25px;
            }

            .progress-step {
                width: 35px;
                height: 35px;
                font-size: 14px;
            }

            .progress-step:not(:last-child)::after {
                width: 25px;
            }

            .form-group {
                margin-bottom: 20px;
            }

            input[type="text"],
            input[type="email"],
            input[type="date"],
            input[type="tel"] {
                padding: 14px 16px;
                font-size: 16px; /* Evita zoom en iOS */
                border-radius: 6px;
            }

            .btn {
                padding: 14px 20px;
                font-size: 16px;
                min-height: 48px; /* Tama√±o t√°ctil m√≠nimo */
                border-radius: 6px;
            }

            .content-area {
                padding: 15px;
                font-size: 13px;
                line-height: 1.4;
                min-height: 250px;
                border-radius: 6px;
            }

            .step-navigation {
                margin-top: 25px;
                gap: 10px;
            }

            .email-actions {
                flex-direction: column;
                gap: 12px;
                margin-top: 25px;
            }

            .btn-gmail,
            .btn-outlook {
                margin-right: 0;
                width: 100%;
                justify-content: center;
            }
        }

        /* Pantallas muy peque√±as (menos de 480px) */
        @media (max-width: 480px) {
            .container {
                padding: 15px 10px;
            }

            h1 {
                font-size: 1.6rem;
                line-height: 1.2;
            }

            h2 {
                font-size: 1.3rem;
                line-height: 1.3;
            }

            .progress-indicator {
                gap: 5px;
                margin-bottom: 20px;
            }

            .progress-step {
                width: 30px;
                height: 30px;
                font-size: 12px;
            }

            .progress-step:not(:last-child)::after {
                width: 15px;
            }

            .form-group {
                margin-bottom: 18px;
            }

            label {
                font-size: 14px;
                margin-bottom: 6px;
            }

            input[type="text"],
            input[type="email"],
            input[type="date"],
            input[type="tel"] {
                padding: 12px 14px;
                font-size: 16px;
            }

            .content-area {
                padding: 12px;
                font-size: 12px;
                line-height: 1.3;
                min-height: 200px;
            }

            .btn {
                padding: 12px 16px;
                font-size: 15px;
                min-height: 44px;
            }

            .step-navigation {
                margin-top: 20px;
                flex-direction: column;
                gap: 8px;
            }

            .step-navigation .btn {
                width: 100%;
            }

            .email-actions {
                gap: 10px;
                margin-top: 20px;
            }

            .text-center p {
                font-size: 14px;
                line-height: 1.4;
            }
        }

        /* Pantallas grandes (tablets landscape y desktop) */
        @media (min-width: 769px) and (max-width: 1024px) {
            .container {
                max-width: 750px;
                padding: 35px;
            }

            h1 {
                font-size: 2.2rem;
            }

            h2 {
                font-size: 1.6rem;
            }
        }

        /* Pantallas extra grandes */
        @media (min-width: 1025px) {
            .container {
                max-width: 900px;
            }

            .content-area {
                font-size: 15px;
                line-height: 1.6;
            }
        }

        /* Orientaci√≥n landscape en m√≥viles */
        @media (max-width: 768px) and (orientation: landscape) {
            .container {
                padding: 15px;
            }

            h1 {
                font-size: 1.6rem;
                margin-bottom: 15px;
            }

            h2 {
                font-size: 1.3rem;
                margin-bottom: 15px;
            }

            .progress-indicator {
                margin-bottom: 20px;
            }

            .form-group {
                margin-bottom: 15px;
            }

            .content-area {
                min-height: 180px;
                font-size: 12px;
            }

            .step-navigation {
                margin-top: 20px;
            }

            .email-actions {
                flex-direction: row;
                gap: 15px;
                margin-top: 20px;
            }

            .btn-gmail,
            .btn-outlook {
                width: auto;
                flex: 1;
            }
        }

        /* Mejoras para dispositivos t√°ctiles */
        @media (hover: none) and (pointer: coarse) {
            .btn:hover {
                transform: none; /* Desactivar hover en dispositivos t√°ctiles */
            }

            .btn:active {
                transform: scale(0.98);
                transition: transform 0.1s ease;
            }

            input[type="text"]:focus,
            input[type="email"]:focus,
            input[type="date"]:focus,
            input[type="tel"]:focus {
                transform: scale(1.02);
                transition: transform 0.2s ease;
            }
        }

        /* Mejoras espec√≠ficas para iOS */
        @supports (-webkit-touch-callout: none) {
            input[type="text"],
            input[type="email"],
            input[type="date"],
            input[type="tel"] {
                -webkit-appearance: none;
                border-radius: 6px;
            }

            .btn {
                -webkit-appearance: none;
                border-radius: 6px;
            }
        }

        /* Mejoras para Android */
        @media screen and (-webkit-min-device-pixel-ratio: 2) {
            .progress-step {
                border: 1px solid rgba(255, 255, 255, 0.1);
            }
        }

        /* Utilidades */
        .text-center {
            text-align: center;
        }

        .mt-3 {
            margin-top: 1rem;
        }

        .mb-3 {
            margin-bottom: 1rem;
        }

        /* Estilos para campos obligatorios */
        .required::after {
            content: ' *';
            color: var(--danger-color);
        }

        /* Botones de acci√≥n en el paso 2 */
        .document-actions {
            margin-top: 20px;
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn-copy {
            background-color: var(--secondary-color);
            color: white;
        }

        .btn-copy:hover {
            background-color: #5a6268;
        }

        @media (max-width: 480px) {
            .document-actions {
                flex-direction: column;
                gap: 8px;
            }
        }

        /* Aviso de privacidad */
        .privacy-notice {
            background-color: #e8f4f8;
            border: 1px solid #bee5eb;
            border-radius: 6px;
            padding: 15px;
            margin-bottom: 25px;
        }

        .privacy-notice p {
            margin: 0;
            font-size: 14px;
            color: #0c5460;
            line-height: 1.4;
        }

        @media (max-width: 768px) {
            .privacy-notice {
                padding: 12px;
                margin-bottom: 20px;
            border-radius: 4px;
            }

            .privacy-notice p {
                font-size: 13px;
                line-height: 1.3;
            }
        }

        @media (max-width: 480px) {
            .privacy-notice {
                padding: 10px;
                margin-bottom: 18px;
            }

            .privacy-notice p {
                font-size: 12px;
                line-height: 1.2;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Alegaci√≥n Especialidad Gen√©tica de Laboratorio</h1>
        
        <!-- Indicador de progreso -->
        <div class="progress-indicator">
            <div class="progress-step active" data-step="1">1</div>
            <div class="progress-step" data-step="2">2</div>
            <div class="progress-step" data-step="3">3</div>
        </div>

        <!-- Paso 1: Formulario -->
        <div id="step1" class="step active">
            <h2>Paso 1: Introduce tus Datos</h2>
            
            <div class="privacy-notice">
                <p>
                    <strong>üîí Privacidad garantizada:</strong> Esta p√°gina no almacena ning√∫n dato personal. 
                    Es una herramienta simple para ayudarte a completar el texto de alegaci√≥n y enviar 
                    el correo electr√≥nico. Todos los datos se procesan √∫nicamente en tu navegador.
                </p>
            </div>
            
            <form id="dataForm">
                <div class="form-group">
                    <label for="userName" class="required">Nombre y Apellidos</label>
                    <input type="text" id="userName" name="userName" required placeholder="Ej: Juan P√©rez G√≥mez">
                </div>

                <div class="form-group">
                    <label for="userDNI" class="required">DNI</label>
                    <input type="text" id="userDNI" name="userDNI" required placeholder="Ej: 12345678A">
                </div>

                <div class="form-group">
                    <label for="userEmail" class="required">Correo electr√≥nico</label>
                    <input type="email" id="userEmail" name="userEmail" required placeholder="Ej: juan@email.com">
                </div>

                <div class="form-group">
                    <label for="userPhone">Tel√©fono de contacto (opcional)</label>
                    <input type="tel" id="userPhone" name="userPhone" placeholder="Ej: 600123456">
                </div>

                <div class="form-group">
                    <label for="userDate" class="required">Fecha</label>
                    <input type="date" id="userDate" name="userDate" required>
                </div>
            </form>
        </div>

        <!-- Paso 2: Contenido generado -->
        <div id="step2" class="step">
            <h2>Paso 2: Contenido Generado</h2>
            <div id="contentArea" class="content-area">
                <!-- El contenido generado se mostrar√° aqu√≠ autom√°ticamente -->
            </div>
            <div class="document-actions">
                <button id="btn-copy" class="btn btn-copy">Copiar Texto</button>
            </div>
        </div>

        <!-- Paso 3: Enviar por correo -->
        <div id="step3" class="step">
            <h2 class="text-center">Paso 3: Enviar por Correo</h2>
            <p class="text-center mb-3">Selecciona tu cliente de correo preferido para enviar el documento:</p>
            <div class="email-actions">
                <button id="gmailBtn" class="btn btn-gmail">
                    üìß Abrir en Gmail
                </button>
                <button id="outlookBtn" class="btn btn-outlook">
                    üìß Abrir en Outlook
                </button>
            </div>
        </div>

        <!-- Navegaci√≥n -->
        <div class="step-navigation">
            <button id="prevStep" class="btn btn-secondary">‚Üê Anterior</button>
            <button id="nextStep" class="btn btn-primary">Siguiente ‚Üí</button>
        </div>
    </div>

    <!-- Indicador de carga -->
    <div id="loadingIndicator" class="loading-indicator">
        Abriendo cliente de correo...
    </div>

    <script>
        // Constantes y elementos del DOM
        const STEPS = document.querySelectorAll('.step');
        const PROGRESS_STEPS = document.querySelectorAll('.progress-step');
        const NEXT_BTN = document.getElementById('nextStep');
        const PREV_BTN = document.getElementById('prevStep');
        const CONTENT_AREA = document.getElementById('contentArea');
        const DATA_FORM = document.getElementById('dataForm');
        const GMAIL_BTN = document.getElementById('gmailBtn');
        const OUTLOOK_BTN = document.getElementById('outlookBtn');
        const COPY_BTN = document.getElementById('btn-copy');
        
        let currentStep = 0;

        // Configuraci√≥n del correo
        const EMAIL_CONFIG = {
            recipient: 'proyectosnormativos-dgorden@sanidad.gob.es',
            subject: 'Alegaci√≥n consulta p√∫blica especialidad Gen√©tica de Laboratorio'
        };

        /**
         * Genera el contenido del documento con los datos del formulario
         */
        function generateContent() {
            const formData = {
                nombre: document.getElementById('userName').value,
                dni: document.getElementById('userDNI').value,
                email: document.getElementById('userEmail').value,
                telefono: document.getElementById('userPhone').value,
                fecha: document.getElementById('userDate').value
            };
            
            return `<div class="document-content">
<p><strong>ESCRITO DE APORTACI√ìN AL TR√ÅMITE DE CONSULTA P√öBLICA PREVIA</strong></p>

<p><strong>Asunto:</strong> Aportaciones al procedimiento de consulta p√∫blica previa para la creaci√≥n de la especialidad en Gen√©tica de Laboratorio.</p>

<p><strong>Persona remitente:</strong></p>
<p><strong>NOMBRE COMPLETO:</strong></p>
<p><span class="form-data">${formData.nombre}</span></p>
<p><strong>DNI/NIE:</strong></p>
<p><span class="form-data">${formData.dni}</span></p>
<p><strong>Correo electr√≥nico de contacto:</strong></p>
<p><span class="form-data">${formData.email}</span></p>
${formData.telefono ? `<p><strong>Tel√©fono de contacto:</strong></p><p><span class="form-data">${formData.telefono}</span></p>` : ''}

<p><strong>√ìrgano destinatario:</strong></p>
<p>Direcci√≥n General de Ordenaci√≥n Profesional</p>
<p>Ministerio de Sanidad</p>

<p><strong>Fecha:</strong></p>
<p><span class="form-data">${formData.fecha}</span></p>

<p><strong>EXPONE:</strong></p>

<p>Que, en relaci√≥n con el tr√°mite de consulta p√∫blica previa para la elaboraci√≥n de la norma por la que se crea la especialidad en Gen√©tica de Laboratorio en el √°mbito de las Ciencias de la Salud, con acceso desde los t√≠tulos que habilitan para el ejercicio de la Medicina, la Biolog√≠a y afines como Farmacia, Qu√≠mica y Veterinaria en Espa√±a, desea realizar las siguientes <strong>aportaciones y observaciones</strong>.</p>

<p class="section-title"><strong>PROPUESTA DE MODIFICACI√ìN: INCLUSI√ìN DEL GRADO EN BIOQU√çMICA COMO T√çTULO HABILITANTE</strong></p>

<p>Solicito la <strong>inclusi√≥n expresa del t√≠tulo de Grado en Bioqu√≠mica</strong>, entre los t√≠tulos universitarios que habiliten el acceso a la futura especialidad en Gen√©tica de Laboratorio, y no contemplarlo como actualmente est√° en el t√©rmino "<strong>Biolog√≠a y afines</strong>" por las siguientes razones y fundamentos normativos:</p>

<p><strong>1. Adecuaci√≥n de la titulaci√≥n de Bioqu√≠mica a los fines de la especialidad</strong></p>

<p>El Grado en Bioqu√≠mica proporciona una s√≥lida formaci√≥n en √°reas esenciales en gen√©tica cl√≠nica al proporcionar competencia en biolog√≠a molecular, bioinform√°tica, biotecnolog√≠a, la bioqu√≠mica cl√≠nica y el an√°lisis de laboratorio, competencias absolutamente relevantes y necesarias para el ejercicio profesional en la Gen√©tica de Laboratorio, como as√≠ queda reflejado en el <strong>Real Decreto 1393/2007</strong>, que regula la ordenaci√≥n de las ense√±anzas universitarias oficiales, y donde se contempla en el Grado en Bioqu√≠mica una formaci√≥n transversal en gen√©tica, diagn√≥stico molecular, biomedicina y t√©cnicas de laboratorio altamente especializadas, elementos todos ellos coherentes con los objetivos y competencias propias de la especialidad propuesta.</p>

<p><strong>2. Marco normativo aplicable a las profesiones sanitarias</strong></p>

<ul class="bullet-list">
<li><strong>Real Decreto 1163/2002, de 8 noviembre, por el que se crean y regulan las especialidades sanitarias para qu√≠micos, bi√≥logos y bioqu√≠micos.</strong></li>
<li><strong>Ley 44/2003, de 21 de noviembre, de ordenaci√≥n de las profesiones sanitarias (LOPS)</strong>: El art√≠culo 2 reconoce como profesiones del √°mbito sanitario, adem√°s de las reguladas, aquellas que participan en actividades sanitarias relevantes, como ocurre con la Bioqu√≠mica en el √°mbito del diagn√≥stico molecular y gen√©tico.</li>
<li><strong>Real Decreto 183/2008, de 8 de febrero</strong>, por el que se determinan y clasifican las especialidades en Ciencias de la Salud, que pueden acceder a las pruebas selectivas para el acceso a plazas de formaci√≥n sanitara: m√©dicos, farmac√©uticos, <strong>qu√≠micos, bi√≥logos, bioqu√≠micos</strong>, psic√≥logos y radiof√≠sicos hospitalarios. As√≠mismo en el apartado 5 del anexo I quedan reflejadas los t√≠tulos universitarios oficiales de Grado que pueden acceder a las especialidades sanitarias de An√°lisis Cl√≠nicos, Bioqu√≠mica Cl√≠nica, Inmunolog√≠a, Microbiolog√≠a y Parasitolog√≠a, y Radiofarmacia; en las que la <strong>licenciatura de Bioqu√≠mica queda incluida expresamente</strong>.</li>
<li><strong>Real Decreto 101/2025, de 18 de febrero, por el que se establece el t√≠tulo de especialista en Laboratorio Cl√≠nico</strong>, en donde se modifica el apartado 5 del anexo I anteriormente mencionado, de acceso a la especialidad de Laboratorio Cl√≠nico por parte de los t√≠tulos universitarios oficiales de Grado en Biolog√≠a, Bioqu√≠mica, Farmacia, Medicina o Qu√≠mica.</li>
</ul>

<p><strong>3. Principio de igualdad y no discriminaci√≥n</strong></p>

<p>La exclusi√≥n del t√≠tulo de Bioqu√≠mica de forma injustificada podr√≠a resultar contraria al <strong>principio de igualdad del art√≠culo 14 de la Constituci√≥n Espa√±ola</strong>, as√≠ como al derecho a acceder en condiciones de igualdad a las funciones y cargos p√∫blicos, de acuerdo con el <strong>art√≠culo 23.2 CE</strong>. No existe justificaci√≥n t√©cnica, acad√©mica ni normativa que fundamente la exclusi√≥n de esta titulaci√≥n respecto a otras afines. La no inclusi√≥n espec√≠fica del t√≠tulo de Bioqu√≠mica dej√°ndose a la interpretaci√≥n libre de cada administraci√≥n mediante el ep√≠grafe de "afines", ha dado lugar a distintas dificultades administrativas en el acceso de estos licenciados a las distintas convocatorias p√∫blicas.</p>

<p class="section-title"><strong>CONCLUSI√ìN Y PROPUESTA FINAL:</strong></p>

<p>Por todo lo anterior, se propone modificar el texto preliminar del anteproyecto o futura norma para que en el apartado de titulaciones que habilitan el acceso a la especialidad de Gen√©tica de Laboratorio se <strong>incluya expresamente el Grado en Bioqu√≠mica</strong>, junto con los dem√°s t√≠tulos, por lo que el listado final contenga los t√≠tulos de Medicina, Bioqu√≠mica, Biolog√≠a, Farmacia, Qu√≠mica y Veterinaria.</p>

<p><strong>Sin otro particular, agradezco la atenci√≥n prestada y solicito que esta aportaci√≥n sea tenida en cuenta en el proceso de elaboraci√≥n normativa.</strong></p>

<p>Atentamente,</p>

<p><span class="form-data">${formData.nombre}</span></p>
</div>`;
        }

        /**
         * Genera el contenido en texto plano para el correo electr√≥nico
         */
        function generatePlainTextContent() {
            // Determinar saludo seg√∫n la hora
            const now = new Date();
            const hour = now.getHours();
            let greeting = "Hola"; // Valor por defecto
            
            if (hour >= 6 && hour < 14) {
                greeting = "Buenos d√≠as";
            } else if (hour >= 14 && hour < 21) {
                greeting = "Buenas tardes";
            } else {
                greeting = "Hola";
            }
            
            const formData = {
                nombre: document.getElementById('userName').value,
                dni: document.getElementById('userDNI').value,
                email: document.getElementById('userEmail').value,
                telefono: document.getElementById('userPhone').value,
                fecha: document.getElementById('userDate').value
            };
            
            return `${greeting}, con motivo de la Consulta P√∫blica sobre el Proyecto de Real Decreto por el que se establece el t√≠tulo de Especialista en Gen√©tica de Laboratorio, me gustar√≠a hacer las siguientes alegaciones:

ESCRITO DE APORTACI√ìN AL TR√ÅMITE DE CONSULTA P√öBLICA PREVIA

Asunto: Aportaciones al procedimiento de consulta p√∫blica previa para la creaci√≥n de la especialidad en Gen√©tica de Laboratorio.

Persona remitente:
NOMBRE COMPLETO:
${formData.nombre}
DNI/NIE:
${formData.dni}
Correo electr√≥nico de contacto:
${formData.email}
${formData.telefono ? `Tel√©fono de contacto:\n${formData.telefono}` : ''}

√ìrgano destinatario:
Direcci√≥n General de Ordenaci√≥n Profesional
Ministerio de Sanidad

Fecha:
${formData.fecha}

EXPONE:

Que, en relaci√≥n con el tr√°mite de consulta p√∫blica previa para la elaboraci√≥n de la norma por la que se crea la especialidad en Gen√©tica de Laboratorio en el √°mbito de las Ciencias de la Salud, con acceso desde los t√≠tulos que habilitan para el ejercicio de la Medicina, la Biolog√≠a y afines como Farmacia, Qu√≠mica y Veterinaria en Espa√±a, desea realizar las siguientes aportaciones y observaciones.

PROPUESTA DE MODIFICACI√ìN: INCLUSI√ìN DEL GRADO EN BIOQU√çMICA COMO T√çTULO HABILITANTE

Solicito la inclusi√≥n expresa del t√≠tulo de Grado en Bioqu√≠mica, entre los t√≠tulos universitarios que habiliten el acceso a la futura especialidad en Gen√©tica de Laboratorio, y no contemplarlo como actualmente est√° en el t√©rmino "Biolog√≠a y afines" por las siguientes razones y fundamentos normativos:

1. Adecuaci√≥n de la titulaci√≥n de Bioqu√≠mica a los fines de la especialidad

El Grado en Bioqu√≠mica proporciona una s√≥lida formaci√≥n en √°reas esenciales en gen√©tica cl√≠nica al proporcionar competencia en biolog√≠a molecular, bioinform√°tica, biotecnolog√≠a, la bioqu√≠mica cl√≠nica y el an√°lisis de laboratorio, competencias absolutamente relevantes y necesarias para el ejercicio profesional en la Gen√©tica de Laboratorio, como as√≠ queda reflejado en el Real Decreto 1393/2007, que regula la ordenaci√≥n de las ense√±anzas universitarias oficiales, y donde se contempla en el Grado en Bioqu√≠mica una formaci√≥n transversal en gen√©tica, diagn√≥stico molecular, biomedicina y t√©cnicas de laboratorio altamente especializadas, elementos todos ellos coherentes con los objetivos y competencias propias de la especialidad propuesta.

2. Marco normativo aplicable a las profesiones sanitarias

‚Ä¢ Real Decreto 1163/2002, de 8 noviembre, por el que se crean y regulan las especialidades sanitarias para qu√≠micos, bi√≥logos y bioqu√≠micos.

‚Ä¢ Ley 44/2003, de 21 de noviembre, de ordenaci√≥n de las profesiones sanitarias (LOPS): El art√≠culo 2 reconoce como profesiones del √°mbito sanitario, adem√°s de las reguladas, aquellas que participan en actividades sanitarias relevantes, como ocurre con la Bioqu√≠mica en el √°mbito del diagn√≥stico molecular y gen√©tico.

‚Ä¢ Real Decreto 183/2008, de 8 de febrero, por el que se determinan y clasifican las especialidades en Ciencias de la Salud, que pueden acceder a las pruebas selectivas para el acceso a plazas de formaci√≥n sanitara: m√©dicos, farmac√©uticos, qu√≠micos, bi√≥logos, bioqu√≠micos, psic√≥logos y radiof√≠sicos hospitalarios. As√≠mismo en el apartado 5 del anexo I quedan reflejadas los t√≠tulos universitarios oficiales de Grado que pueden acceder a las especialidades sanitarias de An√°lisis Cl√≠nicos, Bioqu√≠mica Cl√≠nica, Inmunolog√≠a, Microbiolog√≠a y Parasitolog√≠a, y Radiofarmacia; en las que la licenciatura de Bioqu√≠mica queda incluida expresamente.

‚Ä¢ Real Decreto 101/2025, de 18 de febrero, por el que se establece el t√≠tulo de especialista en Laboratorio Cl√≠nico, en donde se modifica el apartado 5 del anexo I anteriormente mencionado, de acceso a la especialidad de Laboratorio Cl√≠nico por parte de los t√≠tulos universitarios oficiales de Grado en Biolog√≠a, Bioqu√≠mica, Farmacia, Medicina o Qu√≠mica.

3. Principio de igualdad y no discriminaci√≥n

La exclusi√≥n del t√≠tulo de Bioqu√≠mica de forma injustificada podr√≠a resultar contraria al principio de igualdad del art√≠culo 14 de la Constituci√≥n Espa√±ola, as√≠ como al derecho a acceder en condiciones de igualdad a las funciones y cargos p√∫blicos, de acuerdo con el art√≠culo 23.2 CE. No existe justificaci√≥n t√©cnica, acad√©mica ni normativa que fundamente la exclusi√≥n de esta titulaci√≥n respecto a otras afines. La no inclusi√≥n espec√≠fica del t√≠tulo de Bioqu√≠mica dej√°ndose a la interpretaci√≥n libre de cada administraci√≥n mediante el ep√≠grafe de "afines", ha dado lugar a distintas dificultades administrativas en el acceso de estos licenciados a las distintas convocatorias p√∫blicas.

CONCLUSI√ìN Y PROPUESTA FINAL:

Por todo lo anterior, se propone modificar el texto preliminar del anteproyecto o futura norma para que en el apartado de titulaciones que habilitan el acceso a la especialidad de Gen√©tica de Laboratorio se incluya expresamente el Grado en Bioqu√≠mica, junto con los dem√°s t√≠tulos, por lo que el listado final contenga los t√≠tulos de Medicina, Bioqu√≠mica, Biolog√≠a, Farmacia, Qu√≠mica y Veterinaria.

Sin otro particular, agradezco la atenci√≥n prestada y solicito que esta aportaci√≥n sea tenida en cuenta en el proceso de elaboraci√≥n normativa.

Atentamente,

${formData.nombre}`;
        }

        /**
         * Genera el contenido espec√≠fico para el correo electr√≥nico con texto introductorio
         */
        function generateEmailContent() {
            // Determinar saludo seg√∫n la hora
            const now = new Date();
            const hour = now.getHours();
            let greeting = "Hola"; // Valor por defecto
            
            if (hour >= 6 && hour < 14) {
                greeting = "Buenos d√≠as";
            } else if (hour >= 14 && hour < 21) {
                greeting = "Buenas tardes";
            } else {
                greeting = "Hola";
            }
            
            const formData = {
                nombre: document.getElementById('userName').value,
                dni: document.getElementById('userDNI').value,
                email: document.getElementById('userEmail').value,
                telefono: document.getElementById('userPhone').value,
                fecha: document.getElementById('userDate').value
            };
            
            return `<strong>${greeting}</strong>, con motivo de la Consulta P√∫blica sobre el Proyecto de Real Decreto por el que se establece el t√≠tulo de Especialista en Gen√©tica de Laboratorio, me gustar√≠a hacer las siguientes alegaciones:

<strong>ESCRITO DE APORTACI√ìN AL TR√ÅMITE DE CONSULTA P√öBLICA PREVIA</strong>

<strong>Asunto:</strong> Aportaciones al procedimiento de consulta p√∫blica previa para la creaci√≥n de la especialidad en Gen√©tica de Laboratorio.

<strong>Persona remitente:</strong>
<strong>NOMBRE COMPLETO:</strong>
${formData.nombre}
<strong>DNI/NIE:</strong>
${formData.dni}
<strong>Correo electr√≥nico de contacto:</strong>
${formData.email}
${formData.telefono ? `<strong>Tel√©fono de contacto:</strong>\n${formData.telefono}` : ''}

<strong>√ìrgano destinatario:</strong>
Direcci√≥n General de Ordenaci√≥n Profesional
Ministerio de Sanidad

<strong>Fecha:</strong>
${formData.fecha}

<strong>EXPONE:</strong>

Que, en relaci√≥n con el tr√°mite de consulta p√∫blica previa para la elaboraci√≥n de la norma por la que se crea la especialidad en Gen√©tica de Laboratorio en el √°mbito de las Ciencias de la Salud, con acceso desde los t√≠tulos que habilitan para el ejercicio de la Medicina, la Biolog√≠a y afines como Farmacia, Qu√≠mica y Veterinaria en Espa√±a, desea realizar las siguientes <strong>aportaciones y observaciones</strong>.

<strong>PROPUESTA DE MODIFICACI√ìN: INCLUSI√ìN DEL GRADO EN BIOQU√çMICA COMO T√çTULO HABILITANTE</strong>

Solicito la <strong>inclusi√≥n expresa del t√≠tulo de Grado en Bioqu√≠mica</strong>, entre los t√≠tulos universitarios que habiliten el acceso a la futura especialidad en Gen√©tica de Laboratorio, y no contemplarlo como actualmente est√° en el t√©rmino "<strong>Biolog√≠a y afines</strong>" por las siguientes razones y fundamentos normativos:

<strong>1. Adecuaci√≥n de la titulaci√≥n de Bioqu√≠mica a los fines de la especialidad</strong>

El Grado en Bioqu√≠mica proporciona una s√≥lida formaci√≥n en √°reas esenciales en gen√©tica cl√≠nica al proporcionar competencia en biolog√≠a molecular, bioinform√°tica, biotecnolog√≠a, la bioqu√≠mica cl√≠nica y el an√°lisis de laboratorio, competencias absolutamente relevantes y necesarias para el ejercicio profesional en la Gen√©tica de Laboratorio, como as√≠ queda reflejado en el <strong>Real Decreto 1393/2007</strong>, que regula la ordenaci√≥n de las ense√±anzas universitarias oficiales, y donde se contempla en el Grado en Bioqu√≠mica una formaci√≥n transversal en gen√©tica, diagn√≥stico molecular, biomedicina y t√©cnicas de laboratorio altamente especializadas, elementos todos ellos coherentes con los objetivos y competencias propias de la especialidad propuesta.

<strong>2. Marco normativo aplicable a las profesiones sanitarias</strong>

‚Ä¢ <strong>Real Decreto 1163/2002, de 8 noviembre, por el que se crean y regulan las especialidades sanitarias para qu√≠micos, bi√≥logos y bioqu√≠micos.</strong>

‚Ä¢ <strong>Ley 44/2003, de 21 de noviembre, de ordenaci√≥n de las profesiones sanitarias (LOPS)</strong>: El art√≠culo 2 reconoce como profesiones del √°mbito sanitario, adem√°s de las reguladas, aquellas que participan en actividades sanitarias relevantes, como ocurre con la Bioqu√≠mica en el √°mbito del diagn√≥stico molecular y gen√©tico.

‚Ä¢ <strong>Real Decreto 183/2008, de 8 de febrero</strong>, por el que se determinan y clasifican las especialidades en Ciencias de la Salud, que pueden acceder a las pruebas selectivas para el acceso a plazas de formaci√≥n sanitara: m√©dicos, farmac√©uticos, <strong>qu√≠micos, bi√≥logos, bioqu√≠micos</strong>, psic√≥logos y radiof√≠sicos hospitalarios. As√≠mismo en el apartado 5 del anexo I quedan reflejadas los t√≠tulos universitarios oficiales de Grado que pueden acceder a las especialidades sanitarias de An√°lisis Cl√≠nicos, Bioqu√≠mica Cl√≠nica, Inmunolog√≠a, Microbiolog√≠a y Parasitolog√≠a, y Radiofarmacia; en las que la <strong>licenciatura de Bioqu√≠mica queda incluida expresamente</strong>.

‚Ä¢ <strong>Real Decreto 101/2025, de 18 de febrero, por el que se establece el t√≠tulo de especialista en Laboratorio Cl√≠nico</strong>, en donde se modifica el apartado 5 del anexo I anteriormente mencionado, de acceso a la especialidad de Laboratorio Cl√≠nico por parte de los t√≠tulos universitarios oficiales de Grado en Biolog√≠a, Bioqu√≠mica, Farmacia, Medicina o Qu√≠mica.

<strong>3. Principio de igualdad y no discriminaci√≥n</strong>

La exclusi√≥n del t√≠tulo de Bioqu√≠mica de forma injustificada podr√≠a resultar contraria al <strong>principio de igualdad del art√≠culo 14 de la Constituci√≥n Espa√±ola</strong>, as√≠ como al derecho a acceder en condiciones de igualdad a las funciones y cargos p√∫blicos, de acuerdo con el <strong>art√≠culo 23.2 CE</strong>. No existe justificaci√≥n t√©cnica, acad√©mica ni normativa que fundamente la exclusi√≥n de esta titulaci√≥n respecto a otras afines. La no inclusi√≥n espec√≠fica del t√≠tulo de Bioqu√≠mica dej√°ndose a la interpretaci√≥n libre de cada administraci√≥n mediante el ep√≠grafe de "afines", ha dado lugar a distintas dificultades administrativas en el acceso de estos licenciados a las distintas convocatorias p√∫blicas.

<strong>CONCLUSI√ìN Y PROPUESTA FINAL:</strong>

Por todo lo anterior, se propone modificar el texto preliminar del anteproyecto o futura norma para que en el apartado de titulaciones que habilitan el acceso a la especialidad de Gen√©tica de Laboratorio se <strong>incluya expresamente el Grado en Bioqu√≠mica</strong>, junto con los dem√°s t√≠tulos, por lo que el listado final contenga los t√≠tulos de Medicina, Bioqu√≠mica, Biolog√≠a, Farmacia, Qu√≠mica y Veterinaria.

<strong>Sin otro particular, agradezco la atenci√≥n prestada y solicito que esta aportaci√≥n sea tenida en cuenta en el proceso de elaboraci√≥n normativa.</strong>

Atentamente,

${formData.nombre}`;
        }

        /**
         * Actualiza el indicador de progreso
         */
        function updateProgressIndicator() {
            PROGRESS_STEPS.forEach((step, index) => {
                step.classList.remove('active', 'completed');
                if (index < currentStep) {
                    step.classList.add('completed');
                } else if (index === currentStep) {
                    step.classList.add('active');
                }
            });
        }

        /**
         * Muestra el paso especificado
         */
        function showStep(index) {
            STEPS.forEach((step, i) => {
                step.classList.toggle('active', i === index);
            });
            
            updateProgressIndicator();
            
            // Actualizar botones de navegaci√≥n
            PREV_BTN.style.display = index === 0 ? 'none' : 'inline-block';
            NEXT_BTN.style.display = index === STEPS.length - 1 ? 'none' : 'inline-block';
            
            // Generar contenido en el paso 2
            if (index === 1) {
                CONTENT_AREA.innerHTML = generateContent();
            }
        }

        /**
         * Valida el formulario
         */
        function validateForm() {
            return DATA_FORM.reportValidity();
        }

        /**
         * Detecta si es un dispositivo m√≥vil
         */
        function isMobileDevice() {
            return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        }

        /**
         * Abre el cliente de correo especificado
         */
        function openEmailClient(provider) {
            const loadingIndicator = document.getElementById('loadingIndicator');
            
            // Mostrar indicador de carga
            loadingIndicator.classList.add('show');
            
            // Usar contenido sin HTML para Outlook, con HTML para Gmail
            const content = provider === 'outlook' ? generatePlainTextContent() : generateEmailContent();
            const encodedContent = encodeURIComponent(content);
            const encodedSubject = encodeURIComponent(EMAIL_CONFIG.subject);
            const isMobile = isMobileDevice();
            
            let urls;
            
            if (isMobile) {
                // URLs para m√≥viles
                urls = {
                    gmail: `googlegmail://co?to=${EMAIL_CONFIG.recipient}&su=${encodedSubject}&body=${encodedContent}`,
                    outlook: `ms-outlook://compose?to=${EMAIL_CONFIG.recipient}&subject=${encodedSubject}&body=${encodedContent}`
                };
            } else {
                // URLs para desktop
                urls = {
                    gmail: `https://mail.google.com/mail/?view=cm&fs=1&to=${EMAIL_CONFIG.recipient}&su=${encodedSubject}&body=${encodedContent}`,
                    outlook: `https://outlook.live.com/mail/0/deeplink/compose?to=${EMAIL_CONFIG.recipient}&subject=${encodedSubject}&body=${encodedContent}`
                };
            }
            
            // Abrir enlace despu√©s de un breve delay para mostrar el indicador
            setTimeout(() => {
                const url = urls[provider];
                
                if (isMobile) {
                    // Intentar abrir app nativa primero, si falla usar web
                    const fallbackUrls = {
                        gmail: `https://mail.google.com/mail/?view=cm&fs=1&to=${EMAIL_CONFIG.recipient}&su=${encodedSubject}&body=${encodedContent}`,
                        outlook: `https://outlook.live.com/mail/0/deeplink/compose?to=${EMAIL_CONFIG.recipient}&subject=${encodedSubject}&body=${encodedContent}`
                    };
                    
                    window.location.href = url;
                    
                    // Fallback despu√©s de 2 segundos si no se abre la app
                    setTimeout(() => {
                        window.open(fallbackUrls[provider], '_blank');
                    }, 2000);
                } else {
                    window.open(url, '_blank');
                }
                
                // Ocultar indicador despu√©s de un tiempo
                setTimeout(() => {
                    loadingIndicator.classList.remove('show');
                }, 1500);
            }, 300);
        }

        // Event listeners
        NEXT_BTN.addEventListener('click', () => {
            if (currentStep === 0 && !validateForm()) return;
            
            if (currentStep < STEPS.length - 1) {
                currentStep++;
                showStep(currentStep);
            }
        });

        PREV_BTN.addEventListener('click', () => {
            if (currentStep > 0) {
                currentStep--;
                showStep(currentStep);
            }
        });

        GMAIL_BTN.addEventListener('click', () => openEmailClient('gmail'));
        OUTLOOK_BTN.addEventListener('click', () => openEmailClient('outlook'));

        // Event listeners para botones de acci√≥n del documento
        COPY_BTN.addEventListener('click', copyToClipboard);

        /**
         * Copia el texto al portapapeles
         */
        async function copyToClipboard() {
            try {
                const content = generatePlainTextContent();
                await navigator.clipboard.writeText(content);
                
                // Mostrar feedback visual
                const originalText = COPY_BTN.textContent;
                COPY_BTN.textContent = '‚úì Copiado';
                COPY_BTN.style.backgroundColor = '#28a745';
                setTimeout(() => {
                    COPY_BTN.textContent = originalText;
                    COPY_BTN.style.backgroundColor = '';
                }, 2000);
            } catch (err) {
                // Fallback para navegadores que no soportan clipboard API
                const textArea = document.createElement('textarea');
                textArea.value = generatePlainTextContent();
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                
                // Mostrar feedback visual
                const originalText = COPY_BTN.textContent;
                COPY_BTN.textContent = '‚úì Copiado';
                COPY_BTN.style.backgroundColor = '#28a745';
                setTimeout(() => {
                    COPY_BTN.textContent = originalText;
                    COPY_BTN.style.backgroundColor = '';
                }, 2000);
            }
        }

        // Inicializaci√≥n
        document.addEventListener('DOMContentLoaded', () => {
            showStep(currentStep);
            
            // Establecer fecha actual por defecto
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('userDate').value = today;
            
            // Mejoras espec√≠ficas para m√≥viles
            setupMobileOptimizations();
        });

        /**
         * Configuraciones espec√≠ficas para dispositivos m√≥viles
         */
        function setupMobileOptimizations() {
            // Detectar si es un dispositivo m√≥vil
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            
            if (isMobile) {
                // Prevenir zoom en inputs en iOS
                const inputs = document.querySelectorAll('input[type="text"], input[type="email"], input[type="tel"]');
                inputs.forEach(input => {
                    input.addEventListener('focus', () => {
                        const viewport = document.querySelector('meta[name="viewport"]');
                        viewport.setAttribute('content', 'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0');
                    });
                    
                    input.addEventListener('blur', () => {
                        const viewport = document.querySelector('meta[name="viewport"]');
                        viewport.setAttribute('content', 'width=device-width, initial-scale=1.0');
                    });
                });

                // Scroll suave al cambiar de paso
                const originalShowStep = showStep;
                showStep = function(index) {
                    originalShowStep(index);
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                };

                // Manejar cambios de orientaci√≥n
                window.addEventListener('orientationchange', () => {
                    setTimeout(() => {
                        window.scrollTo(0, 0);
                    }, 100);
                });

                // Optimizar el teclado virtual
                window.addEventListener('resize', () => {
                    const activeElement = document.activeElement;
                    if (activeElement && activeElement.tagName === 'INPUT') {
                        setTimeout(() => {
                            activeElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
                        }, 300);
                    }
                });
            }

            // Navegaci√≥n con gestos (swipe)
            let touchStartX = 0;
            let touchEndX = 0;
            
            document.addEventListener('touchstart', (e) => {
                touchStartX = e.changedTouches[0].screenX;
            });
            
            document.addEventListener('touchend', (e) => {
                touchEndX = e.changedTouches[0].screenX;
                handleSwipe();
            });
            
            function handleSwipe() {
                const swipeThreshold = 50;
                const swipeDistance = touchEndX - touchStartX;
                
                if (Math.abs(swipeDistance) > swipeThreshold) {
                    if (swipeDistance > 0 && currentStep > 0) {
                        // Swipe derecha - paso anterior
                        currentStep--;
                        showStep(currentStep);
                    } else if (swipeDistance < 0 && currentStep < STEPS.length - 1) {
                        // Swipe izquierda - siguiente paso
                        if (currentStep === 0 && !validateForm()) return;
                        currentStep++;
                        showStep(currentStep);
                    }
                }
            }
        }
    </script>
</body>
</html>