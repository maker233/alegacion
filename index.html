<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="theme-color" content="#0056b3">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <title>Alegación Especialidad Genética de Laboratorio</title>
    <style>
        /* Variables CSS para mejor mantenibilidad */
        :root {
            --primary-color: #0056b3;
            --primary-hover: #004494;
            --secondary-color: #6c757d;
            --success-color: #28a745;
            --success-hover: #218838;
            --danger-color: #dc3545;
            --danger-hover: #c82333;
            --gmail-color: #dd4b39;
            --gmail-hover: #c23321;
            --outlook-color: #0078d4;
            --outlook-hover: #106ebe;
            --background-color: #f8f9fa;
            --card-background: #ffffff;
            --text-color: #333333;
            --border-color: #dee2e6;
            --input-border: #ced4da;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --border-radius: 8px;
            --transition: all 0.3s ease;
        }

        /* Reset y base */
        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: var(--background-color);
            color: var(--text-color);
            /* Mejoras para móviles */
            -webkit-text-size-adjust: 100%;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
            overflow-x: hidden;
        }

        /* Contenedor principal */
        .container {
            max-width: 900px;
            margin: 0 auto;
            background-color: var(--card-background);
            padding: 40px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            /* Mejoras para móviles */
            position: relative;
            overflow-x: hidden;
        }

        /* Tipografía */
        h1 {
            color: var(--primary-color);
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5rem;
            font-weight: 300;
            /* Prevenir selección accidental */
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        h2 {
            color: var(--primary-color);
            margin-bottom: 25px;
            font-size: 1.8rem;
            font-weight: 400;
            /* Prevenir selección accidental */
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        /* Indicador de progreso */
        .progress-indicator {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            gap: 10px;
            /* Prevenir selección accidental */
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        .progress-step {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--border-color);
            color: var(--secondary-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            transition: var(--transition);
            position: relative;
            /* Mejoras táctiles */
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
        }

        .progress-step.active {
            background-color: var(--primary-color);
            color: white;
        }

        .progress-step.completed {
            background-color: var(--success-color);
            color: white;
        }

        .progress-step:not(:last-child)::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 100%;
            width: 30px;
            height: 2px;
            background-color: var(--border-color);
            transform: translateY(-50%);
        }

        .progress-step.completed:not(:last-child)::after {
            background-color: var(--success-color);
        }

        /* Formulario */
        .form-group {
            margin-bottom: 25px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text-color);
        }

        input[type="text"],
        input[type="email"],
        input[type="date"],
        input[type="tel"] {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid var(--input-border);
            border-radius: var(--border-radius);
            font-size: 16px;
            transition: var(--transition);
            background-color: #fff;
            /* Mejoras móviles */
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            outline: none;
            -webkit-tap-highlight-color: transparent;
        }

        input[type="text"]:focus,
        input[type="email"]:focus,
        input[type="date"]:focus,
        input[type="tel"]:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(0, 86, 179, 0.1);
        }

        /* Botones */
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: var(--transition);
            text-decoration: none;
            display: inline-block;
            text-align: center;
            /* Mejoras táctiles */
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            min-height: 44px; /* Tamaño mínimo para táctil */
            outline: none;
        }

        .btn:focus {
            box-shadow: 0 0 0 3px rgba(0, 86, 179, 0.3);
        }

        .btn:active {
            transform: scale(0.98);
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--primary-hover);
            transform: translateY(-2px);
        }

        .btn-secondary {
            background-color: var(--secondary-color);
            color: white;
        }

        .btn-secondary:hover {
            background-color: #5a6268;
        }

        .btn-gmail {
            background-color: var(--gmail-color);
            color: white;
            margin-right: 15px;
        }

        .btn-gmail:hover {
            background-color: var(--gmail-hover);
            transform: translateY(-2px);
        }

        .btn-outlook {
            background-color: var(--outlook-color);
            color: white;
        }

        .btn-outlook:hover {
            background-color: var(--outlook-hover);
            transform: translateY(-2px);
        }

        /* Área de contenido */
        .content-area {
            border: 2px solid var(--border-color);
            padding: 25px;
            min-height: 300px;
            background-color: #f8f9fa;
            margin-top: 20px;
            white-space: pre-wrap;
            word-wrap: break-word;
            border-radius: var(--border-radius);
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.5;
            /* Mejoras para móviles */
            -webkit-overflow-scrolling: touch;
            overflow-y: auto;
            max-height: 70vh;
        }

        /* Estilos para el documento generado */
        .document-content {
            font-family: 'Times New Roman', serif;
            font-size: 14px;
            line-height: 1.6;
            color: #000;
            background-color: #fff;
            padding: 20px;
            border-radius: 6px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .document-content p {
            margin: 0 0 6px 0;
            text-align: justify;
        }

        .document-content ul {
            margin: 6px 0;
            padding-left: 20px;
            list-style-type: none;
        }

        .document-content li {
            margin: 2px 0;
            padding-left: 0;
        }

        .document-content strong {
            font-weight: bold;
            color: #000;
        }

        .document-content .form-data {
            color: #0066cc;
            font-weight: 600;
            background-color: rgba(0, 102, 204, 0.1);
            padding: 2px 4px;
            border-radius: 3px;
        }

        /* Títulos principales del documento */
        .document-content p:first-child {
            text-align: center;
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 12px;
            text-transform: uppercase;
        }

        /* Espaciado especial para secciones importantes */
        .document-content .section-title {
            margin-top: 12px;
            margin-bottom: 6px;
        }

        /* Espaciado para listas de viñetas */
        .document-content .bullet-list {
            margin: 6px 0;
            padding-left: 20px;
        }

        .document-content .bullet-list li {
            margin: 3px 0;
            list-style-type: disc;
        }

        /* Mejoras para móviles en el documento */
        @media (max-width: 768px) {
            .document-content {
                font-size: 13px;
                padding: 15px;
                line-height: 1.5;
            }

            .document-content p:first-child {
                font-size: 15px;
            }
        }

        @media (max-width: 480px) {
            .document-content {
                font-size: 12px;
                padding: 12px;
                line-height: 1.4;
            }

            .document-content p:first-child {
                font-size: 14px;
            }

            .document-content .form-data {
                font-size: 12px;
                padding: 1px 3px;
            }
        }

        /* Pasos */
        .step {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }

        .step.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Navegación */
        .step-navigation {
            margin-top: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            /* Prevenir selección accidental */
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        .email-actions {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 30px;
            /* Prevenir selección accidental */
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        /* Indicador de carga para navegación */
        .loading-indicator {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 1000;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 20px;
            border-radius: 8px;
            font-size: 16px;
        }

        .loading-indicator.show {
            display: block;
        }

        /* Responsive */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            .container {
                padding: 20px 15px;
                margin: 0;
                border-radius: 0;
                min-height: 100vh;
                box-shadow: none;
            }

            h1 {
                font-size: 1.8rem;
                margin-bottom: 20px;
            }

            h2 {
                font-size: 1.4rem;
                margin-bottom: 20px;
            }

            .progress-indicator {
                gap: 8px;
                margin-bottom: 25px;
            }

            .progress-step {
                width: 35px;
                height: 35px;
                font-size: 14px;
            }

            .progress-step:not(:last-child)::after {
                width: 25px;
            }

            .form-group {
                margin-bottom: 20px;
            }

            input[type="text"],
            input[type="email"],
            input[type="date"],
            input[type="tel"] {
                padding: 14px 16px;
                font-size: 16px; /* Evita zoom en iOS */
                border-radius: 6px;
            }

            .btn {
                padding: 14px 20px;
                font-size: 16px;
                min-height: 48px; /* Tamaño táctil mínimo */
                border-radius: 6px;
            }

            .content-area {
                padding: 15px;
                font-size: 13px;
                line-height: 1.4;
                min-height: 250px;
                border-radius: 6px;
            }

            .step-navigation {
                margin-top: 25px;
                gap: 10px;
            }

            .email-actions {
                flex-direction: column;
                gap: 12px;
                margin-top: 25px;
            }

            .btn-gmail,
            .btn-outlook {
                margin-right: 0;
                width: 100%;
                justify-content: center;
            }
        }

        /* Pantallas muy pequeñas (menos de 480px) */
        @media (max-width: 480px) {
            .container {
                padding: 15px 10px;
            }

            h1 {
                font-size: 1.6rem;
                line-height: 1.2;
            }

            h2 {
                font-size: 1.3rem;
                line-height: 1.3;
            }

            .progress-indicator {
                gap: 5px;
                margin-bottom: 20px;
            }

            .progress-step {
                width: 30px;
                height: 30px;
                font-size: 12px;
            }

            .progress-step:not(:last-child)::after {
                width: 15px;
            }

            .form-group {
                margin-bottom: 18px;
            }

            label {
                font-size: 14px;
                margin-bottom: 6px;
            }

            input[type="text"],
            input[type="email"],
            input[type="date"],
            input[type="tel"] {
                padding: 12px 14px;
                font-size: 16px;
            }

            .content-area {
                padding: 12px;
                font-size: 12px;
                line-height: 1.3;
                min-height: 200px;
            }

            .btn {
                padding: 12px 16px;
                font-size: 15px;
                min-height: 44px;
            }

            .step-navigation {
                margin-top: 20px;
                flex-direction: column;
                gap: 8px;
            }

            .step-navigation .btn {
                width: 100%;
            }

            .email-actions {
                gap: 10px;
                margin-top: 20px;
            }

            .text-center p {
                font-size: 14px;
                line-height: 1.4;
            }
        }

        /* Pantallas grandes (tablets landscape y desktop) */
        @media (min-width: 769px) and (max-width: 1024px) {
            .container {
                max-width: 750px;
                padding: 35px;
            }

            h1 {
                font-size: 2.2rem;
            }

            h2 {
                font-size: 1.6rem;
            }
        }

        /* Pantallas extra grandes */
        @media (min-width: 1025px) {
            .container {
                max-width: 900px;
            }

            .content-area {
                font-size: 15px;
                line-height: 1.6;
            }
        }

        /* Orientación landscape en móviles */
        @media (max-width: 768px) and (orientation: landscape) {
            .container {
                padding: 15px;
            }

            h1 {
                font-size: 1.6rem;
                margin-bottom: 15px;
            }

            h2 {
                font-size: 1.3rem;
                margin-bottom: 15px;
            }

            .progress-indicator {
                margin-bottom: 20px;
            }

            .form-group {
                margin-bottom: 15px;
            }

            .content-area {
                min-height: 180px;
                font-size: 12px;
            }

            .step-navigation {
                margin-top: 20px;
            }

            .email-actions {
                flex-direction: row;
                gap: 15px;
                margin-top: 20px;
            }

            .btn-gmail,
            .btn-outlook {
                width: auto;
                flex: 1;
            }
        }

        /* Mejoras para dispositivos táctiles */
        @media (hover: none) and (pointer: coarse) {
            .btn:hover {
                transform: none; /* Desactivar hover en dispositivos táctiles */
            }

            .btn:active {
                transform: scale(0.98);
                transition: transform 0.1s ease;
            }

            input[type="text"]:focus,
            input[type="email"]:focus,
            input[type="date"]:focus,
            input[type="tel"]:focus {
                transform: scale(1.02);
                transition: transform 0.2s ease;
            }
        }

        /* Mejoras específicas para iOS */
        @supports (-webkit-touch-callout: none) {
            input[type="text"],
            input[type="email"],
            input[type="date"],
            input[type="tel"] {
                -webkit-appearance: none;
                border-radius: 6px;
            }

            .btn {
                -webkit-appearance: none;
                border-radius: 6px;
            }
        }

        /* Mejoras para Android */
        @media screen and (-webkit-min-device-pixel-ratio: 2) {
            .progress-step {
                border: 1px solid rgba(255, 255, 255, 0.1);
            }
        }

        /* Utilidades */
        .text-center {
            text-align: center;
        }

        .mt-3 {
            margin-top: 1rem;
        }

        .mb-3 {
            margin-bottom: 1rem;
        }

        /* Estilos para campos obligatorios */
        .required::after {
            content: ' *';
            color: var(--danger-color);
        }

        /* Botones de acción en el paso 2 */
        .document-actions {
            margin-top: 20px;
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn-copy {
            background-color: var(--secondary-color);
            color: white;
        }

        .btn-copy:hover {
            background-color: #5a6268;
        }

        @media (max-width: 480px) {
            .document-actions {
                flex-direction: column;
                gap: 8px;
            }
        }

        /* Aviso de privacidad */
        .privacy-notice {
            background-color: #e8f4f8;
            border: 1px solid #bee5eb;
            border-radius: 6px;
            padding: 15px;
            margin-bottom: 25px;
        }

        .privacy-notice p {
            margin: 0;
            font-size: 14px;
            color: #0c5460;
            line-height: 1.4;
        }

        @media (max-width: 768px) {
            .privacy-notice {
                padding: 12px;
                margin-bottom: 20px;
            border-radius: 4px;
            }

            .privacy-notice p {
                font-size: 13px;
                line-height: 1.3;
            }
        }

        @media (max-width: 480px) {
            .privacy-notice {
                padding: 10px;
                margin-bottom: 18px;
            }

            .privacy-notice p {
                font-size: 12px;
                line-height: 1.2;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Alegación Especialidad Genética de Laboratorio</h1>
        
        <!-- Indicador de progreso -->
        <div class="progress-indicator">
            <div class="progress-step active" data-step="1">1</div>
            <div class="progress-step" data-step="2">2</div>
            <div class="progress-step" data-step="3">3</div>
        </div>

        <!-- Paso 1: Formulario -->
        <div id="step1" class="step active">
            <h2>Paso 1: Introduce tus Datos</h2>
            
            <div class="privacy-notice">
                <p>
                    <strong>🔒 Privacidad garantizada:</strong> Esta página no almacena ningún dato personal. 
                    Es una herramienta simple para ayudarte a completar el texto de alegación y enviar 
                    el correo electrónico. Todos los datos se procesan únicamente en tu navegador.
                </p>
            </div>
            
            <form id="dataForm">
                <div class="form-group">
                    <label for="userName" class="required">Nombre y Apellidos</label>
                    <input type="text" id="userName" name="userName" required placeholder="Ej: Juan Pérez Gómez">
                </div>

                <div class="form-group">
                    <label for="userDNI" class="required">DNI</label>
                    <input type="text" id="userDNI" name="userDNI" required placeholder="Ej: 12345678A">
                </div>

                <div class="form-group">
                    <label for="userEmail" class="required">Correo electrónico</label>
                    <input type="email" id="userEmail" name="userEmail" required placeholder="Ej: juan@email.com">
                </div>

                <div class="form-group">
                    <label for="userPhone">Teléfono de contacto (opcional)</label>
                    <input type="tel" id="userPhone" name="userPhone" placeholder="Ej: 600123456">
                </div>

                <div class="form-group">
                    <label for="userDate" class="required">Fecha</label>
                    <input type="date" id="userDate" name="userDate" required>
                </div>
            </form>
        </div>

        <!-- Paso 2: Contenido generado -->
        <div id="step2" class="step">
            <h2>Paso 2: Contenido Generado</h2>
            <div id="contentArea" class="content-area">
                <!-- El contenido generado se mostrará aquí automáticamente -->
            </div>
            <div class="document-actions">
                <button id="btn-copy" class="btn btn-copy">Copiar Texto</button>
            </div>
        </div>

        <!-- Paso 3: Enviar por correo -->
        <div id="step3" class="step">
            <h2 class="text-center">Paso 3: Enviar por Correo</h2>
            <p class="text-center mb-3">Selecciona tu cliente de correo preferido para enviar el documento:</p>
            <div class="email-actions">
                <button id="gmailBtn" class="btn btn-gmail">
                    📧 Abrir en Gmail
                </button>
                <button id="outlookBtn" class="btn btn-outlook">
                    📧 Abrir en Outlook
                </button>
            </div>
        </div>

        <!-- Navegación -->
        <div class="step-navigation">
            <button id="prevStep" class="btn btn-secondary">← Anterior</button>
            <button id="nextStep" class="btn btn-primary">Siguiente →</button>
        </div>
    </div>

    <!-- Indicador de carga -->
    <div id="loadingIndicator" class="loading-indicator">
        Abriendo cliente de correo...
    </div>

    <script>
        // Constantes y elementos del DOM
        const STEPS = document.querySelectorAll('.step');
        const PROGRESS_STEPS = document.querySelectorAll('.progress-step');
        const NEXT_BTN = document.getElementById('nextStep');
        const PREV_BTN = document.getElementById('prevStep');
        const CONTENT_AREA = document.getElementById('contentArea');
        const DATA_FORM = document.getElementById('dataForm');
        const GMAIL_BTN = document.getElementById('gmailBtn');
        const OUTLOOK_BTN = document.getElementById('outlookBtn');
        const COPY_BTN = document.getElementById('btn-copy');
        
        let currentStep = 0;

        // Configuración del correo
        const EMAIL_CONFIG = {
            recipient: 'proyectosnormativos-dgorden@sanidad.gob.es',
            subject: 'Alegación consulta pública especialidad Genética de Laboratorio'
        };

        /**
         * Genera el contenido del documento con los datos del formulario
         */
        function generateContent() {
            const formData = {
                nombre: document.getElementById('userName').value,
                dni: document.getElementById('userDNI').value,
                email: document.getElementById('userEmail').value,
                telefono: document.getElementById('userPhone').value,
                fecha: document.getElementById('userDate').value
            };
            
            return `<div class="document-content">
<p><strong>ESCRITO DE APORTACIÓN AL TRÁMITE DE CONSULTA PÚBLICA PREVIA</strong></p>

<p><strong>Asunto:</strong> Aportaciones al procedimiento de consulta pública previa para la creación de la especialidad en Genética de Laboratorio.</p>

<p><strong>Persona remitente:</strong></p>
<p><strong>NOMBRE COMPLETO:</strong></p>
<p><span class="form-data">${formData.nombre}</span></p>
<p><strong>DNI/NIE:</strong></p>
<p><span class="form-data">${formData.dni}</span></p>
<p><strong>Correo electrónico de contacto:</strong></p>
<p><span class="form-data">${formData.email}</span></p>
${formData.telefono ? `<p><strong>Teléfono de contacto:</strong></p><p><span class="form-data">${formData.telefono}</span></p>` : ''}

<p><strong>Órgano destinatario:</strong></p>
<p>Dirección General de Ordenación Profesional</p>
<p>Ministerio de Sanidad</p>

<p><strong>Fecha:</strong></p>
<p><span class="form-data">${formData.fecha}</span></p>

<p><strong>EXPONE:</strong></p>

<p>Que, en relación con el trámite de consulta pública previa para la elaboración de la norma por la que se crea la especialidad en Genética de Laboratorio en el ámbito de las Ciencias de la Salud, con acceso desde los títulos que habilitan para el ejercicio de la Medicina, la Biología y afines como Farmacia, Química y Veterinaria en España, desea realizar las siguientes <strong>aportaciones y observaciones</strong>.</p>

<p class="section-title"><strong>PROPUESTA DE MODIFICACIÓN: INCLUSIÓN DEL GRADO EN BIOQUÍMICA COMO TÍTULO HABILITANTE</strong></p>

<p>Solicito la <strong>inclusión expresa del título de Grado en Bioquímica</strong>, entre los títulos universitarios que habiliten el acceso a la futura especialidad en Genética de Laboratorio, y no contemplarlo como actualmente está en el término "<strong>Biología y afines</strong>" por las siguientes razones y fundamentos normativos:</p>

<p><strong>1. Adecuación de la titulación de Bioquímica a los fines de la especialidad</strong></p>

<p>El Grado en Bioquímica proporciona una sólida formación en áreas esenciales en genética clínica al proporcionar competencia en biología molecular, bioinformática, biotecnología, la bioquímica clínica y el análisis de laboratorio, competencias absolutamente relevantes y necesarias para el ejercicio profesional en la Genética de Laboratorio, como así queda reflejado en el <strong>Real Decreto 1393/2007</strong>, que regula la ordenación de las enseñanzas universitarias oficiales, y donde se contempla en el Grado en Bioquímica una formación transversal en genética, diagnóstico molecular, biomedicina y técnicas de laboratorio altamente especializadas, elementos todos ellos coherentes con los objetivos y competencias propias de la especialidad propuesta.</p>

<p><strong>2. Marco normativo aplicable a las profesiones sanitarias</strong></p>

<ul class="bullet-list">
<li><strong>Real Decreto 1163/2002, de 8 noviembre, por el que se crean y regulan las especialidades sanitarias para químicos, biólogos y bioquímicos.</strong></li>
<li><strong>Ley 44/2003, de 21 de noviembre, de ordenación de las profesiones sanitarias (LOPS)</strong>: El artículo 2 reconoce como profesiones del ámbito sanitario, además de las reguladas, aquellas que participan en actividades sanitarias relevantes, como ocurre con la Bioquímica en el ámbito del diagnóstico molecular y genético.</li>
<li><strong>Real Decreto 183/2008, de 8 de febrero</strong>, por el que se determinan y clasifican las especialidades en Ciencias de la Salud, que pueden acceder a las pruebas selectivas para el acceso a plazas de formación sanitara: médicos, farmacéuticos, <strong>químicos, biólogos, bioquímicos</strong>, psicólogos y radiofísicos hospitalarios. Asímismo en el apartado 5 del anexo I quedan reflejadas los títulos universitarios oficiales de Grado que pueden acceder a las especialidades sanitarias de Análisis Clínicos, Bioquímica Clínica, Inmunología, Microbiología y Parasitología, y Radiofarmacia; en las que la <strong>licenciatura de Bioquímica queda incluida expresamente</strong>.</li>
<li><strong>Real Decreto 101/2025, de 18 de febrero, por el que se establece el título de especialista en Laboratorio Clínico</strong>, en donde se modifica el apartado 5 del anexo I anteriormente mencionado, de acceso a la especialidad de Laboratorio Clínico por parte de los títulos universitarios oficiales de Grado en Biología, Bioquímica, Farmacia, Medicina o Química.</li>
</ul>

<p><strong>3. Principio de igualdad y no discriminación</strong></p>

<p>La exclusión del título de Bioquímica de forma injustificada podría resultar contraria al <strong>principio de igualdad del artículo 14 de la Constitución Española</strong>, así como al derecho a acceder en condiciones de igualdad a las funciones y cargos públicos, de acuerdo con el <strong>artículo 23.2 CE</strong>. No existe justificación técnica, académica ni normativa que fundamente la exclusión de esta titulación respecto a otras afines. La no inclusión específica del título de Bioquímica dejándose a la interpretación libre de cada administración mediante el epígrafe de "afines", ha dado lugar a distintas dificultades administrativas en el acceso de estos licenciados a las distintas convocatorias públicas.</p>

<p class="section-title"><strong>CONCLUSIÓN Y PROPUESTA FINAL:</strong></p>

<p>Por todo lo anterior, se propone modificar el texto preliminar del anteproyecto o futura norma para que en el apartado de titulaciones que habilitan el acceso a la especialidad de Genética de Laboratorio se <strong>incluya expresamente el Grado en Bioquímica</strong>, junto con los demás títulos, por lo que el listado final contenga los títulos de Medicina, Bioquímica, Biología, Farmacia, Química y Veterinaria.</p>

<p><strong>Sin otro particular, agradezco la atención prestada y solicito que esta aportación sea tenida en cuenta en el proceso de elaboración normativa.</strong></p>

<p>Atentamente,</p>

<p><span class="form-data">${formData.nombre}</span></p>
</div>`;
        }

        /**
         * Genera el contenido en texto plano para el correo electrónico
         */
        function generatePlainTextContent() {
            // Determinar saludo según la hora
            const now = new Date();
            const hour = now.getHours();
            let greeting = "Hola"; // Valor por defecto
            
            if (hour >= 6 && hour < 14) {
                greeting = "Buenos días";
            } else if (hour >= 14 && hour < 21) {
                greeting = "Buenas tardes";
            } else {
                greeting = "Hola";
            }
            
            const formData = {
                nombre: document.getElementById('userName').value,
                dni: document.getElementById('userDNI').value,
                email: document.getElementById('userEmail').value,
                telefono: document.getElementById('userPhone').value,
                fecha: document.getElementById('userDate').value
            };
            
            return `${greeting}, con motivo de la Consulta Pública sobre el Proyecto de Real Decreto por el que se establece el título de Especialista en Genética de Laboratorio, me gustaría hacer las siguientes alegaciones:

ESCRITO DE APORTACIÓN AL TRÁMITE DE CONSULTA PÚBLICA PREVIA

Asunto: Aportaciones al procedimiento de consulta pública previa para la creación de la especialidad en Genética de Laboratorio.

Persona remitente:
NOMBRE COMPLETO:
${formData.nombre}
DNI/NIE:
${formData.dni}
Correo electrónico de contacto:
${formData.email}
${formData.telefono ? `Teléfono de contacto:\n${formData.telefono}` : ''}

Órgano destinatario:
Dirección General de Ordenación Profesional
Ministerio de Sanidad

Fecha:
${formData.fecha}

EXPONE:

Que, en relación con el trámite de consulta pública previa para la elaboración de la norma por la que se crea la especialidad en Genética de Laboratorio en el ámbito de las Ciencias de la Salud, con acceso desde los títulos que habilitan para el ejercicio de la Medicina, la Biología y afines como Farmacia, Química y Veterinaria en España, desea realizar las siguientes aportaciones y observaciones.

PROPUESTA DE MODIFICACIÓN: INCLUSIÓN DEL GRADO EN BIOQUÍMICA COMO TÍTULO HABILITANTE

Solicito la inclusión expresa del título de Grado en Bioquímica, entre los títulos universitarios que habiliten el acceso a la futura especialidad en Genética de Laboratorio, y no contemplarlo como actualmente está en el término "Biología y afines" por las siguientes razones y fundamentos normativos:

1. Adecuación de la titulación de Bioquímica a los fines de la especialidad

El Grado en Bioquímica proporciona una sólida formación en áreas esenciales en genética clínica al proporcionar competencia en biología molecular, bioinformática, biotecnología, la bioquímica clínica y el análisis de laboratorio, competencias absolutamente relevantes y necesarias para el ejercicio profesional en la Genética de Laboratorio, como así queda reflejado en el Real Decreto 1393/2007, que regula la ordenación de las enseñanzas universitarias oficiales, y donde se contempla en el Grado en Bioquímica una formación transversal en genética, diagnóstico molecular, biomedicina y técnicas de laboratorio altamente especializadas, elementos todos ellos coherentes con los objetivos y competencias propias de la especialidad propuesta.

2. Marco normativo aplicable a las profesiones sanitarias

• Real Decreto 1163/2002, de 8 noviembre, por el que se crean y regulan las especialidades sanitarias para químicos, biólogos y bioquímicos.

• Ley 44/2003, de 21 de noviembre, de ordenación de las profesiones sanitarias (LOPS): El artículo 2 reconoce como profesiones del ámbito sanitario, además de las reguladas, aquellas que participan en actividades sanitarias relevantes, como ocurre con la Bioquímica en el ámbito del diagnóstico molecular y genético.

• Real Decreto 183/2008, de 8 de febrero, por el que se determinan y clasifican las especialidades en Ciencias de la Salud, que pueden acceder a las pruebas selectivas para el acceso a plazas de formación sanitara: médicos, farmacéuticos, químicos, biólogos, bioquímicos, psicólogos y radiofísicos hospitalarios. Asímismo en el apartado 5 del anexo I quedan reflejadas los títulos universitarios oficiales de Grado que pueden acceder a las especialidades sanitarias de Análisis Clínicos, Bioquímica Clínica, Inmunología, Microbiología y Parasitología, y Radiofarmacia; en las que la licenciatura de Bioquímica queda incluida expresamente.

• Real Decreto 101/2025, de 18 de febrero, por el que se establece el título de especialista en Laboratorio Clínico, en donde se modifica el apartado 5 del anexo I anteriormente mencionado, de acceso a la especialidad de Laboratorio Clínico por parte de los títulos universitarios oficiales de Grado en Biología, Bioquímica, Farmacia, Medicina o Química.

3. Principio de igualdad y no discriminación

La exclusión del título de Bioquímica de forma injustificada podría resultar contraria al principio de igualdad del artículo 14 de la Constitución Española, así como al derecho a acceder en condiciones de igualdad a las funciones y cargos públicos, de acuerdo con el artículo 23.2 CE. No existe justificación técnica, académica ni normativa que fundamente la exclusión de esta titulación respecto a otras afines. La no inclusión específica del título de Bioquímica dejándose a la interpretación libre de cada administración mediante el epígrafe de "afines", ha dado lugar a distintas dificultades administrativas en el acceso de estos licenciados a las distintas convocatorias públicas.

CONCLUSIÓN Y PROPUESTA FINAL:

Por todo lo anterior, se propone modificar el texto preliminar del anteproyecto o futura norma para que en el apartado de titulaciones que habilitan el acceso a la especialidad de Genética de Laboratorio se incluya expresamente el Grado en Bioquímica, junto con los demás títulos, por lo que el listado final contenga los títulos de Medicina, Bioquímica, Biología, Farmacia, Química y Veterinaria.

Sin otro particular, agradezco la atención prestada y solicito que esta aportación sea tenida en cuenta en el proceso de elaboración normativa.

Atentamente,

${formData.nombre}`;
        }

        /**
         * Genera el contenido específico para el correo electrónico con texto introductorio
         */
        function generateEmailContent() {
            // Determinar saludo según la hora
            const now = new Date();
            const hour = now.getHours();
            let greeting = "Hola"; // Valor por defecto
            
            if (hour >= 6 && hour < 14) {
                greeting = "Buenos días";
            } else if (hour >= 14 && hour < 21) {
                greeting = "Buenas tardes";
            } else {
                greeting = "Hola";
            }
            
            const formData = {
                nombre: document.getElementById('userName').value,
                dni: document.getElementById('userDNI').value,
                email: document.getElementById('userEmail').value,
                telefono: document.getElementById('userPhone').value,
                fecha: document.getElementById('userDate').value
            };
            
            return `<strong>${greeting}</strong>, con motivo de la Consulta Pública sobre el Proyecto de Real Decreto por el que se establece el título de Especialista en Genética de Laboratorio, me gustaría hacer las siguientes alegaciones:

<strong>ESCRITO DE APORTACIÓN AL TRÁMITE DE CONSULTA PÚBLICA PREVIA</strong>

<strong>Asunto:</strong> Aportaciones al procedimiento de consulta pública previa para la creación de la especialidad en Genética de Laboratorio.

<strong>Persona remitente:</strong>
<strong>NOMBRE COMPLETO:</strong>
${formData.nombre}
<strong>DNI/NIE:</strong>
${formData.dni}
<strong>Correo electrónico de contacto:</strong>
${formData.email}
${formData.telefono ? `<strong>Teléfono de contacto:</strong>\n${formData.telefono}` : ''}

<strong>Órgano destinatario:</strong>
Dirección General de Ordenación Profesional
Ministerio de Sanidad

<strong>Fecha:</strong>
${formData.fecha}

<strong>EXPONE:</strong>

Que, en relación con el trámite de consulta pública previa para la elaboración de la norma por la que se crea la especialidad en Genética de Laboratorio en el ámbito de las Ciencias de la Salud, con acceso desde los títulos que habilitan para el ejercicio de la Medicina, la Biología y afines como Farmacia, Química y Veterinaria en España, desea realizar las siguientes <strong>aportaciones y observaciones</strong>.

<strong>PROPUESTA DE MODIFICACIÓN: INCLUSIÓN DEL GRADO EN BIOQUÍMICA COMO TÍTULO HABILITANTE</strong>

Solicito la <strong>inclusión expresa del título de Grado en Bioquímica</strong>, entre los títulos universitarios que habiliten el acceso a la futura especialidad en Genética de Laboratorio, y no contemplarlo como actualmente está en el término "<strong>Biología y afines</strong>" por las siguientes razones y fundamentos normativos:

<strong>1. Adecuación de la titulación de Bioquímica a los fines de la especialidad</strong>

El Grado en Bioquímica proporciona una sólida formación en áreas esenciales en genética clínica al proporcionar competencia en biología molecular, bioinformática, biotecnología, la bioquímica clínica y el análisis de laboratorio, competencias absolutamente relevantes y necesarias para el ejercicio profesional en la Genética de Laboratorio, como así queda reflejado en el <strong>Real Decreto 1393/2007</strong>, que regula la ordenación de las enseñanzas universitarias oficiales, y donde se contempla en el Grado en Bioquímica una formación transversal en genética, diagnóstico molecular, biomedicina y técnicas de laboratorio altamente especializadas, elementos todos ellos coherentes con los objetivos y competencias propias de la especialidad propuesta.

<strong>2. Marco normativo aplicable a las profesiones sanitarias</strong>

• <strong>Real Decreto 1163/2002, de 8 noviembre, por el que se crean y regulan las especialidades sanitarias para químicos, biólogos y bioquímicos.</strong>

• <strong>Ley 44/2003, de 21 de noviembre, de ordenación de las profesiones sanitarias (LOPS)</strong>: El artículo 2 reconoce como profesiones del ámbito sanitario, además de las reguladas, aquellas que participan en actividades sanitarias relevantes, como ocurre con la Bioquímica en el ámbito del diagnóstico molecular y genético.

• <strong>Real Decreto 183/2008, de 8 de febrero</strong>, por el que se determinan y clasifican las especialidades en Ciencias de la Salud, que pueden acceder a las pruebas selectivas para el acceso a plazas de formación sanitara: médicos, farmacéuticos, <strong>químicos, biólogos, bioquímicos</strong>, psicólogos y radiofísicos hospitalarios. Asímismo en el apartado 5 del anexo I quedan reflejadas los títulos universitarios oficiales de Grado que pueden acceder a las especialidades sanitarias de Análisis Clínicos, Bioquímica Clínica, Inmunología, Microbiología y Parasitología, y Radiofarmacia; en las que la <strong>licenciatura de Bioquímica queda incluida expresamente</strong>.

• <strong>Real Decreto 101/2025, de 18 de febrero, por el que se establece el título de especialista en Laboratorio Clínico</strong>, en donde se modifica el apartado 5 del anexo I anteriormente mencionado, de acceso a la especialidad de Laboratorio Clínico por parte de los títulos universitarios oficiales de Grado en Biología, Bioquímica, Farmacia, Medicina o Química.

<strong>3. Principio de igualdad y no discriminación</strong>

La exclusión del título de Bioquímica de forma injustificada podría resultar contraria al <strong>principio de igualdad del artículo 14 de la Constitución Española</strong>, así como al derecho a acceder en condiciones de igualdad a las funciones y cargos públicos, de acuerdo con el <strong>artículo 23.2 CE</strong>. No existe justificación técnica, académica ni normativa que fundamente la exclusión de esta titulación respecto a otras afines. La no inclusión específica del título de Bioquímica dejándose a la interpretación libre de cada administración mediante el epígrafe de "afines", ha dado lugar a distintas dificultades administrativas en el acceso de estos licenciados a las distintas convocatorias públicas.

<strong>CONCLUSIÓN Y PROPUESTA FINAL:</strong>

Por todo lo anterior, se propone modificar el texto preliminar del anteproyecto o futura norma para que en el apartado de titulaciones que habilitan el acceso a la especialidad de Genética de Laboratorio se <strong>incluya expresamente el Grado en Bioquímica</strong>, junto con los demás títulos, por lo que el listado final contenga los títulos de Medicina, Bioquímica, Biología, Farmacia, Química y Veterinaria.

<strong>Sin otro particular, agradezco la atención prestada y solicito que esta aportación sea tenida en cuenta en el proceso de elaboración normativa.</strong>

Atentamente,

${formData.nombre}`;
        }

        /**
         * Actualiza el indicador de progreso
         */
        function updateProgressIndicator() {
            PROGRESS_STEPS.forEach((step, index) => {
                step.classList.remove('active', 'completed');
                if (index < currentStep) {
                    step.classList.add('completed');
                } else if (index === currentStep) {
                    step.classList.add('active');
                }
            });
        }

        /**
         * Muestra el paso especificado
         */
        function showStep(index) {
            STEPS.forEach((step, i) => {
                step.classList.toggle('active', i === index);
            });
            
            updateProgressIndicator();
            
            // Actualizar botones de navegación
            PREV_BTN.style.display = index === 0 ? 'none' : 'inline-block';
            NEXT_BTN.style.display = index === STEPS.length - 1 ? 'none' : 'inline-block';
            
            // Generar contenido en el paso 2
            if (index === 1) {
                CONTENT_AREA.innerHTML = generateContent();
            }
        }

        /**
         * Valida el formulario
         */
        function validateForm() {
            return DATA_FORM.reportValidity();
        }

        /**
         * Detecta si es un dispositivo móvil
         */
        function isMobileDevice() {
            return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        }

        /**
         * Abre el cliente de correo especificado
         */
        function openEmailClient(provider) {
            const loadingIndicator = document.getElementById('loadingIndicator');
            
            // Mostrar indicador de carga
            loadingIndicator.classList.add('show');
            
            // Usar contenido sin HTML para Outlook, con HTML para Gmail
            const content = provider === 'outlook' ? generatePlainTextContent() : generateEmailContent();
            const encodedContent = encodeURIComponent(content);
            const encodedSubject = encodeURIComponent(EMAIL_CONFIG.subject);
            const isMobile = isMobileDevice();
            
            let urls;
            
            if (isMobile) {
                // URLs para móviles
                urls = {
                    gmail: `googlegmail://co?to=${EMAIL_CONFIG.recipient}&su=${encodedSubject}&body=${encodedContent}`,
                    outlook: `ms-outlook://compose?to=${EMAIL_CONFIG.recipient}&subject=${encodedSubject}&body=${encodedContent}`
                };
            } else {
                // URLs para desktop
                urls = {
                    gmail: `https://mail.google.com/mail/?view=cm&fs=1&to=${EMAIL_CONFIG.recipient}&su=${encodedSubject}&body=${encodedContent}`,
                    outlook: `https://outlook.live.com/mail/0/deeplink/compose?to=${EMAIL_CONFIG.recipient}&subject=${encodedSubject}&body=${encodedContent}`
                };
            }
            
            // Abrir enlace después de un breve delay para mostrar el indicador
            setTimeout(() => {
                const url = urls[provider];
                
                if (isMobile) {
                    // Intentar abrir app nativa primero, si falla usar web
                    const fallbackUrls = {
                        gmail: `https://mail.google.com/mail/?view=cm&fs=1&to=${EMAIL_CONFIG.recipient}&su=${encodedSubject}&body=${encodedContent}`,
                        outlook: `https://outlook.live.com/mail/0/deeplink/compose?to=${EMAIL_CONFIG.recipient}&subject=${encodedSubject}&body=${encodedContent}`
                    };
                    
                    window.location.href = url;
                    
                    // Fallback después de 2 segundos si no se abre la app
                    setTimeout(() => {
                        window.open(fallbackUrls[provider], '_blank');
                    }, 2000);
                } else {
                    window.open(url, '_blank');
                }
                
                // Ocultar indicador después de un tiempo
                setTimeout(() => {
                    loadingIndicator.classList.remove('show');
                }, 1500);
            }, 300);
        }

        // Event listeners
        NEXT_BTN.addEventListener('click', () => {
            if (currentStep === 0 && !validateForm()) return;
            
            if (currentStep < STEPS.length - 1) {
                currentStep++;
                showStep(currentStep);
            }
        });

        PREV_BTN.addEventListener('click', () => {
            if (currentStep > 0) {
                currentStep--;
                showStep(currentStep);
            }
        });

        GMAIL_BTN.addEventListener('click', () => openEmailClient('gmail'));
        OUTLOOK_BTN.addEventListener('click', () => openEmailClient('outlook'));

        // Event listeners para botones de acción del documento
        COPY_BTN.addEventListener('click', copyToClipboard);

        /**
         * Copia el texto al portapapeles
         */
        async function copyToClipboard() {
            try {
                const content = generatePlainTextContent();
                await navigator.clipboard.writeText(content);
                
                // Mostrar feedback visual
                const originalText = COPY_BTN.textContent;
                COPY_BTN.textContent = '✓ Copiado';
                COPY_BTN.style.backgroundColor = '#28a745';
                setTimeout(() => {
                    COPY_BTN.textContent = originalText;
                    COPY_BTN.style.backgroundColor = '';
                }, 2000);
            } catch (err) {
                // Fallback para navegadores que no soportan clipboard API
                const textArea = document.createElement('textarea');
                textArea.value = generatePlainTextContent();
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                
                // Mostrar feedback visual
                const originalText = COPY_BTN.textContent;
                COPY_BTN.textContent = '✓ Copiado';
                COPY_BTN.style.backgroundColor = '#28a745';
                setTimeout(() => {
                    COPY_BTN.textContent = originalText;
                    COPY_BTN.style.backgroundColor = '';
                }, 2000);
            }
        }

        // Inicialización
        document.addEventListener('DOMContentLoaded', () => {
            showStep(currentStep);
            
            // Establecer fecha actual por defecto
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('userDate').value = today;
            
            // Mejoras específicas para móviles
            setupMobileOptimizations();
        });

        /**
         * Configuraciones específicas para dispositivos móviles
         */
        function setupMobileOptimizations() {
            // Detectar si es un dispositivo móvil
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            
            if (isMobile) {
                // Prevenir zoom en inputs en iOS
                const inputs = document.querySelectorAll('input[type="text"], input[type="email"], input[type="tel"]');
                inputs.forEach(input => {
                    input.addEventListener('focus', () => {
                        const viewport = document.querySelector('meta[name="viewport"]');
                        viewport.setAttribute('content', 'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0');
                    });
                    
                    input.addEventListener('blur', () => {
                        const viewport = document.querySelector('meta[name="viewport"]');
                        viewport.setAttribute('content', 'width=device-width, initial-scale=1.0');
                    });
                });

                // Scroll suave al cambiar de paso
                const originalShowStep = showStep;
                showStep = function(index) {
                    originalShowStep(index);
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                };

                // Manejar cambios de orientación
                window.addEventListener('orientationchange', () => {
                    setTimeout(() => {
                        window.scrollTo(0, 0);
                    }, 100);
                });

                // Optimizar el teclado virtual
                window.addEventListener('resize', () => {
                    const activeElement = document.activeElement;
                    if (activeElement && activeElement.tagName === 'INPUT') {
                        setTimeout(() => {
                            activeElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
                        }, 300);
                    }
                });
            }

            // Navegación con gestos (swipe)
            let touchStartX = 0;
            let touchEndX = 0;
            
            document.addEventListener('touchstart', (e) => {
                touchStartX = e.changedTouches[0].screenX;
            });
            
            document.addEventListener('touchend', (e) => {
                touchEndX = e.changedTouches[0].screenX;
                handleSwipe();
            });
            
            function handleSwipe() {
                const swipeThreshold = 50;
                const swipeDistance = touchEndX - touchStartX;
                
                if (Math.abs(swipeDistance) > swipeThreshold) {
                    if (swipeDistance > 0 && currentStep > 0) {
                        // Swipe derecha - paso anterior
                        currentStep--;
                        showStep(currentStep);
                    } else if (swipeDistance < 0 && currentStep < STEPS.length - 1) {
                        // Swipe izquierda - siguiente paso
                        if (currentStep === 0 && !validateForm()) return;
                        currentStep++;
                        showStep(currentStep);
                    }
                }
            }
        }
    </script>
</body>
</html>